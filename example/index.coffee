validIbans = [
  'AL43136970966290653618880738'
  'AD6034182289207445496067'
  'AT387310571542114386'
  'AZ79PZTL34619889970832759007'
  'BH59LJBA48636919242810'
  'BE95829885103351'
  'BA104071042896881615'
  'BR0996373315823510701463862I2'
  'BG75RQQL87973833119306'
  'CR8142384197025512999'
  'HR9159722198194452208'
  'CY05827033292105828197282905'
  'CZ5840404994716525672724'
  'DK6833813561973840'
  'DO11991452429839471532502037'
  'EE441316417065008171'
  'FO1061724710333978'
  'FI5566404997309892'
  'FR0644780228413953402998187'
  'GE08CJ1962485318279668'
  'DE12469621987738228473'
  'GI61AJWB464965644996890'
  'GR2495438564030820082990447'
  'GL4369358254413903'
  'GT66585418506124245442088697'
  'HU98333623205804833386364453'
  'IS524520055372581057359762'
  'IE68EVTW49739988974987'
  'IL835277584828669662943'
  'IT77X4885839639424381600507'
  'JO53KAYQ3958102691499677554304'
  'KZ470498352319326085'
  'KW45LDMW7205927837328417200088'
  'LV72MMUH2132918066993'
  'LB43975577453945191752232648'
  'LI4478274355201981070'
  'LT345332355995678303'
  'LU875979480345777652'
  'MK08280909955694040'
  'MT42SGVE34279991893560422134003'
  'MR4387375019493688842162296'
  'MU59RPET1739537905272711827LWA'
  'MD7760983309236496667047'
  'MC2306681982192259961110647'
  'ME76936003530080035573'
  'NL14EFJI1309165394'
  'NO4378248275195'
  'PK05LIHZ8505965665847302'
  'PL28538194057217196355006583'
  'PS98UEMQ620752778672899557422'
  'PT56235502428622833315821'
  'QA90QLHO299322226846014834001'
  'XK430826633434520551'
  'RO87HPMF6456941029783457'
  'LC68DSLO561339814560066189355532'
  'SM85W1886514586760916051878'
  'SA4802733337698179911205'
  'RS37008692274927673486'
  'SK2009498654739349589954'
  'SI30714952746738311'
  'ES4094871566257468036411'
  'SE9244455451612757282406'
  'CH7961110916257806110'
  'TL634761531154098901100'
  'TN9128173278558285931772'
  'TR984506635237306535723740'
  'AE962817219426896624332'
  'GB04YPBU02661621865538'
  'VG29RUDR0479171484771425'
  'YY67XUWL24756595403968139252299424'
  'ZZ93EWEI797512637585558136014014967'
]

app = angular.module('app', [ 'schemaForm' ])

app.controller 'formCtrl', ($scope) ->

  $scope.schema =
    'type': 'object'
    'title': 'Comment'
    'properties':
      'iban':
        'title': 'IBAN'
        'type': 'string'
    'required': ['iban']

  $scope.form = [
    {
      key: 'iban'
      type: 'iban'
    }
  ]

  $scope.model = {}

  $scope.$watch 'model', ((value) ->
    if value
      $scope.prettyModel = JSON.stringify(value, undefined, 2)
    return
  ), true

  $scope.setValidIban = ->
    $scope.model.iban = validIbans[Math.floor(Math.random() * validIbans.length)]

  $scope.setInvalidIban = ->
    $scope.model.iban = '123'

  return
